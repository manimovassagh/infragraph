{
  "version": 4,
  "terraform_version": "1.7.0",
  "serial": 27,
  "lineage": "m3n4o5p6-data-pipeline",
  "resources": [
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "raw",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "data-raw-zone", "bucket": "data-raw-zone", "tags": { "Name": "raw-zone", "Zone": "raw" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "processed",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "data-processed-zone", "bucket": "data-processed-zone", "tags": { "Name": "processed-zone", "Zone": "processed" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "curated",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "data-curated-zone", "bucket": "data-curated-zone", "tags": { "Name": "curated-zone", "Zone": "curated" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_kinesis_stream",
      "name": "ingest",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "data-ingest-stream", "name": "data-ingest", "shard_count": 4, "retention_period": 168, "tags": { "Name": "ingest-stream" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_kinesis_firehose_delivery_stream",
      "name": "to_s3",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "ingest-to-raw", "name": "ingest-to-raw", "destination": "s3", "tags": { "Name": "firehose-to-s3" } }, "dependencies": ["aws_s3_bucket.raw"] }]
    },
    {
      "mode": "managed",
      "type": "aws_glue_catalog_database",
      "name": "catalog",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "data_catalog", "name": "data_catalog", "tags": {} }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_glue_crawler",
      "name": "raw",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "raw-crawler", "name": "raw-crawler", "database_name": "data_catalog", "tags": { "Name": "raw-crawler" } }, "dependencies": ["aws_glue_catalog_database.catalog", "aws_s3_bucket.raw"] }]
    },
    {
      "mode": "managed",
      "type": "aws_glue_job",
      "name": "etl",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "etl-raw-to-processed", "name": "etl-raw-to-processed", "tags": { "Name": "etl-job" } }, "dependencies": ["aws_s3_bucket.raw", "aws_s3_bucket.processed"] }]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "trigger",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "etl-trigger", "function_name": "etl-trigger", "runtime": "python3.12", "handler": "trigger.handler", "tags": { "Name": "etl-trigger" } }, "dependencies": ["aws_glue_job.etl"] }]
    },
    {
      "mode": "managed",
      "type": "aws_sns_topic",
      "name": "alerts",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "arn:aws:sns:us-east-1:123456789012:data-alerts", "name": "data-pipeline-alerts", "tags": { "Name": "data-alerts" } }, "dependencies": [] }]
    }
  ]
}
