{
  "version": 4,
  "terraform_version": "1.7.0",
  "serial": 48,
  "lineage": "g3h4i5j6-network-hub",
  "resources": [
    {
      "mode": "managed",
      "type": "aws_vpc",
      "name": "production",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 1, "attributes": { "id": "vpc-prod001", "cidr_block": "10.100.0.0/16", "enable_dns_hostnames": true, "tags": { "Name": "production-vpc" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "prod_private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 1, "attributes": { "id": "subnet-prodprv", "vpc_id": "vpc-prod001", "cidr_block": "10.100.1.0/24", "availability_zone": "us-east-1a", "map_public_ip_on_launch": false, "tags": { "Name": "prod-private", "Tier": "private" } }, "dependencies": ["aws_vpc.production"] }]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "prod_public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 1, "attributes": { "id": "subnet-prodpub", "vpc_id": "vpc-prod001", "cidr_block": "10.100.10.0/24", "availability_zone": "us-east-1a", "map_public_ip_on_launch": true, "tags": { "Name": "prod-public", "Tier": "public" } }, "dependencies": ["aws_vpc.production"] }]
    },
    {
      "mode": "managed",
      "type": "aws_vpc",
      "name": "development",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 1, "attributes": { "id": "vpc-dev001", "cidr_block": "10.101.0.0/16", "enable_dns_hostnames": true, "tags": { "Name": "development-vpc" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "dev_private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 1, "attributes": { "id": "subnet-devprv", "vpc_id": "vpc-dev001", "cidr_block": "10.101.1.0/24", "availability_zone": "us-east-1a", "map_public_ip_on_launch": false, "tags": { "Name": "dev-private", "Tier": "private" } }, "dependencies": ["aws_vpc.development"] }]
    },
    {
      "mode": "managed",
      "type": "aws_vpc",
      "name": "shared",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 1, "attributes": { "id": "vpc-shared001", "cidr_block": "10.102.0.0/16", "enable_dns_hostnames": true, "tags": { "Name": "shared-services-vpc" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "shared_private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 1, "attributes": { "id": "subnet-sharedprv", "vpc_id": "vpc-shared001", "cidr_block": "10.102.1.0/24", "availability_zone": "us-east-1a", "map_public_ip_on_launch": false, "tags": { "Name": "shared-private", "Tier": "private" } }, "dependencies": ["aws_vpc.shared"] }]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway",
      "name": "hub",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "tgw-hub001", "description": "Central network hub", "tags": { "Name": "transit-hub" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_vpc_attachment",
      "name": "prod",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "tgw-attach-prod", "transit_gateway_id": "tgw-hub001", "vpc_id": "vpc-prod001", "tags": { "Name": "prod-tgw-attach" } }, "dependencies": ["aws_ec2_transit_gateway.hub", "aws_vpc.production", "aws_subnet.prod_private"] }]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_vpc_attachment",
      "name": "dev",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "tgw-attach-dev", "transit_gateway_id": "tgw-hub001", "vpc_id": "vpc-dev001", "tags": { "Name": "dev-tgw-attach" } }, "dependencies": ["aws_ec2_transit_gateway.hub", "aws_vpc.development", "aws_subnet.dev_private"] }]
    },
    {
      "mode": "managed",
      "type": "aws_ec2_transit_gateway_vpc_attachment",
      "name": "shared",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "tgw-attach-shared", "transit_gateway_id": "tgw-hub001", "vpc_id": "vpc-shared001", "tags": { "Name": "shared-tgw-attach" } }, "dependencies": ["aws_ec2_transit_gateway.hub", "aws_vpc.shared", "aws_subnet.shared_private"] }]
    },
    {
      "mode": "managed",
      "type": "aws_vpn_gateway",
      "name": "on_prem",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "vgw-onprem001", "vpc_id": "vpc-shared001", "tags": { "Name": "on-prem-vpn-gw" } }, "dependencies": ["aws_vpc.shared"] }]
    },
    {
      "mode": "managed",
      "type": "aws_customer_gateway",
      "name": "on_prem",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "cgw-onprem001", "bgp_asn": 65000, "ip_address": "203.0.113.1", "type": "ipsec.1", "tags": { "Name": "on-prem-cgw" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "bastion",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 1, "attributes": { "id": "i-bastion001", "ami": "ami-0c55b159cbfafe1f0", "instance_type": "t3.micro", "subnet_id": "subnet-prodpub", "vpc_security_group_ids": ["sg-shared001"], "tags": { "Name": "bastion-host" } }, "dependencies": ["aws_subnet.prod_public", "aws_security_group.shared"] }]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "shared",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 1, "attributes": { "id": "sg-shared001", "vpc_id": "vpc-shared001", "name": "shared-services-sg", "tags": { "Name": "shared-services-sg" } }, "dependencies": ["aws_vpc.shared"] }]
    },
    {
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "prod",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "igw-prod001", "vpc_id": "vpc-prod001", "tags": { "Name": "prod-igw" } }, "dependencies": ["aws_vpc.production"] }]
    }
  ]
}
