{
  "version": 4,
  "terraform_version": "1.7.0",
  "serial": 33,
  "lineage": "i9j0k1l2-serverless",
  "resources": [
    {
      "mode": "managed",
      "type": "aws_api_gateway_rest_api",
      "name": "api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "api-gw-001", "name": "orders-api", "description": "Orders REST API", "tags": { "Name": "orders-api", "Project": "serverless" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "create_order",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "create-order", "function_name": "create-order", "runtime": "nodejs20.x", "handler": "create.handler", "memory_size": 256, "timeout": 30, "tags": { "Name": "create-order", "Project": "serverless" } }, "dependencies": ["aws_iam_role.lambda"] }]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "get_orders",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "get-orders", "function_name": "get-orders", "runtime": "nodejs20.x", "handler": "list.handler", "memory_size": 256, "timeout": 30, "tags": { "Name": "get-orders", "Project": "serverless" } }, "dependencies": ["aws_iam_role.lambda"] }]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "process_payment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "process-payment", "function_name": "process-payment", "runtime": "python3.12", "handler": "payment.handler", "memory_size": 512, "timeout": 60, "tags": { "Name": "process-payment", "Project": "serverless" } }, "dependencies": ["aws_iam_role.lambda"] }]
    },
    {
      "mode": "managed",
      "type": "aws_dynamodb_table",
      "name": "orders",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "orders-table", "name": "orders", "billing_mode": "PAY_PER_REQUEST", "hash_key": "orderId", "range_key": "createdAt", "tags": { "Name": "orders-table", "Project": "serverless" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_dynamodb_table",
      "name": "payments",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "payments-table", "name": "payments", "billing_mode": "PAY_PER_REQUEST", "hash_key": "paymentId", "tags": { "Name": "payments-table", "Project": "serverless" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_sqs_queue",
      "name": "order_events",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "order-events-queue", "name": "order-events", "visibility_timeout_seconds": 60, "tags": { "Name": "order-events", "Project": "serverless" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_sqs_queue",
      "name": "dlq",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "order-events-dlq", "name": "order-events-dlq", "tags": { "Name": "order-dlq", "Project": "serverless" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_cognito_user_pool",
      "name": "users",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "us-east-1_AbCdEf", "name": "app-users", "tags": { "Name": "user-pool", "Project": "serverless" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "lambda",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "lambda-exec-role", "name": "lambda-execution-role", "tags": { "Name": "lambda-role" } }, "dependencies": [] }]
    }
  ]
}
