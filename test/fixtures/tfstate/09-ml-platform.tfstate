{
  "version": 4,
  "terraform_version": "1.7.0",
  "serial": 22,
  "lineage": "c9d0e1f2-ml-platform",
  "resources": [
    {
      "mode": "managed",
      "type": "aws_sagemaker_notebook_instance",
      "name": "research",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "ml-research", "name": "ml-research", "instance_type": "ml.t3.xlarge", "tags": { "Name": "research-notebook" } }, "dependencies": ["aws_iam_role.sagemaker"] }]
    },
    {
      "mode": "managed",
      "type": "aws_sagemaker_model",
      "name": "prod",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "prod-model", "name": "prod-model", "tags": { "Name": "prod-model" } }, "dependencies": ["aws_iam_role.sagemaker", "aws_s3_bucket.models"] }]
    },
    {
      "mode": "managed",
      "type": "aws_sagemaker_endpoint",
      "name": "prod",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "prod-endpoint", "name": "prod-endpoint", "tags": { "Name": "prod-endpoint" } }, "dependencies": ["aws_sagemaker_model.prod"] }]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "training",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "ml-training-data", "bucket": "ml-training-data", "tags": { "Name": "training-data" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "models",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "ml-model-artifacts", "bucket": "ml-model-artifacts", "tags": { "Name": "model-artifacts" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "features",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "ml-feature-store", "bucket": "ml-feature-store", "tags": { "Name": "feature-store" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_sfn_state_machine",
      "name": "pipeline",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "arn:aws:states:us-east-1:123456789012:stateMachine:ml-training", "name": "ml-training-pipeline", "tags": { "Name": "training-pipeline" } }, "dependencies": ["aws_iam_role.step_functions"] }]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "preprocess",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "ml-preprocess", "function_name": "ml-preprocess", "runtime": "python3.12", "handler": "preprocess.handler", "memory_size": 1024, "tags": { "Name": "preprocess-fn" } }, "dependencies": ["aws_iam_role.sagemaker"] }]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "evaluate",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "ml-evaluate", "function_name": "ml-evaluate", "runtime": "python3.12", "handler": "evaluate.handler", "memory_size": 512, "tags": { "Name": "evaluate-fn" } }, "dependencies": ["aws_iam_role.sagemaker"] }]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_repository",
      "name": "ml_model",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "ml-model", "name": "ml-model", "tags": { "Name": "ml-model-repo" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "sagemaker",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "sagemaker-role", "name": "sagemaker-execution-role", "tags": { "Name": "sagemaker-role" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "step_functions",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "sfn-role", "name": "step-functions-role", "tags": { "Name": "sfn-role" } }, "dependencies": [] }]
    },
    {
      "mode": "managed",
      "type": "aws_sns_topic",
      "name": "alerts",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [{ "schema_version": 0, "attributes": { "id": "arn:aws:sns:us-east-1:123456789012:ml-alerts", "name": "ml-pipeline-alerts", "tags": { "Name": "ml-alerts" } }, "dependencies": [] }]
    }
  ]
}
